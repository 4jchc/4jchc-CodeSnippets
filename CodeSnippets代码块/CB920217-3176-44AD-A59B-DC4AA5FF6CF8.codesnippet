<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>IDECodeSnippetCompletionPrefix</key>
	<string>4jChunDaiMa-cell</string>
	<key>IDECodeSnippetCompletionScopes</key>
	<array>
		<string>All</string>
	</array>
	<key>IDECodeSnippetContents</key>
	<string>import UIKit
import Foundation


///** å§“åå­—ä½“ */
let kNameFont:UIFont = UIFont.systemFontOfSize(14)
///** æ­£æ–‡å­—ä½“ */
let kTextFont:UIFont = UIFont.systemFontOfSize(13)


class HMStatusCell: UITableViewCell {
    ///*****âœ…ä¸ç”¨è°ƒç”¨initæ–¹æ³•.ç›´æ¥åŠ !
    weak var status:HMStatus!
  
    var cellheight:CGFloat = 0
    
    
    ///*****âœ…åˆå§‹åŒ–cell
    class  func cellWithTableView(tableview:UITableView) -&gt; UITableViewCell{
        let ID:String = "Cell"
        var cell:HMStatusCell? = tableview.dequeueReusableCellWithIdentifier(ID) as? HMStatusCell
        
        if cell == nil {
            print("åˆå§‹åŒ–äº†")
            
            cell = HMStatusCell(style: UITableViewCellStyle.Subtitle, reuseIdentifier: ID)
        }
        return cell!
    }
    
///*âœ…*****************ğŸ’—å…ƒç´ ************************
///*âœ…*****************ğŸ’—åˆå§‹åŒ–æ·»åŠ contentView************************
///*******getæ–¹æ³•
    var _&lt;#icon#&gt;:UIImageView!
    var &lt;#icon#&gt;:UIImageView {
        
        if _&lt;#icon#&gt; == nil {
            
            _&lt;#icon#&gt; = UIImageView.init()
        
            self.contentView.addSubview(_&lt;#icon#&gt;)
        }
        return _&lt;#icon#&gt;
    }
///*******getæ–¹æ³•
    var _nameView:UILabel!
    var nameView:UILabel {
        
        if _nameView == nil {
            
            _nameView = UILabel.init()
            _nameView.font = kNameFont
            self.contentView.addSubview(_nameView)
        }
        return _nameView
    }
///*******getæ–¹æ³•
    var _vipView:UIImageView!
    var vipView:UIImageView {
        
        if _vipView == nil {
            
            _vipView = UIImageView.init()
            _vipView.image = UIImage(named: "vip")
            _vipView.hidden = true
            self.contentView.addSubview(_vipView)
        }
        return _vipView
    }
///*******getæ–¹æ³•
    var _textView:UILabel!
    var textView:UILabel {
        
        if _textView == nil {
            
            _textView = UILabel.init()
            _textView.font = kTextFont;
            _textView.numberOfLines = 0;
            self.contentView.addSubview(_textView)
        }
        return _textView
    }
    ///*******getæ–¹æ³•
    
    var _pictureView:UIImageView!
    var pictureView:UIImageView {
        
        if _pictureView == nil {
            
            _pictureView = UIImageView.init()
            self.contentView.addSubview(_pictureView)
        }
        return _pictureView
    }

    
    ///*âœ…*****************ğŸ’—èµ‹å€¼**************************************

///*****âœ…æ€»çš„æ–¹æ³•æ”¾åœ¨ä¸€èµ·è®©cellè°ƒç”¨
    func getStatus(status:HMStatus? ,tableview:UITableView?){
        ///*****âœ…ä¼ è¿›æ¥çš„å‚æ•°æ›¿æ¢æ²¡æœ‰åˆå§‹åŒ–çš„å‚æ•°

        self.status = status
        // 1&gt; è®¾ç½®æ•°æ®
        self.settingFrame(tableview!)
        // 2&gt; è®¾ç½®ä½ç½®
        self.settingCell()
    }
    
    

    ///*****âœ…ä¼ æ¨¡å‹è¿‡æ¥ä¸€ä¸ªä¸€ä¸ªèµ‹å€¼// 1&gt; è®¾ç½®æ•°æ®
    func settingCell(){
        
        // setteræ–¹æ³•ä¸­ï¼Œç¬¬ä¸€å¥è¦èµ‹å€¼ï¼Œå¦åˆ™è¦åœ¨å…¶ä»–æ–¹æ³•ä¸­ä½¿ç”¨æ¨¡å‹ï¼Œå°†æ— æ³•è®¿é—®åˆ°
        
        /// å¤´åƒ
        self.iconView.image = UIImage(named: "\(status.icon)")
       /// å§“å
        self.nameView.text = "\(status.name)"
        
        /// vip(å¯é€‰çš„)
        self.vipView.image = UIImage(named: "vip")
        
        if ((status.vip) != 0) {
            
            self.vipView.hidden = false
            self.nameView.textColor = UIColor.redColor()
        } else {
            self.vipView.hidden = true
            self.nameView.textColor = UIColor.blackColor()
        }
        
        /// æ­£æ–‡
        self.textView.text = "\(status.text)"
        
        /// é…å›¾(å¯é€‰å‚æ•°)
        if status.picture == nil  {
            
            print("ğŸ’—ğŸ’—\(status.picture)")
            self.pictureView.hidden = true

        } else {
                        self.pictureView.hidden = false
                        print("ğŸ’—\(status.picture)")
                        self.pictureView.image = UIImage(named: "\(status.picture)")

        }

    }

    ///*âœ…*****************ğŸ’—è®¾ç½®ä½ç½®************************
    // 2&gt; è®¾ç½®ä½ç½®
    func settingFrame(tableview:UITableView)
    {
        
    /// 0. å®šä¹‰é—´è·
        let padding:CGFloat = 10
    /// 1. å¤´åƒ
        
        let &lt;#icon#&gt;X = padding;
    let &lt;#icon#&gt;Y = padding;
        let &lt;#icon#&gt;W:CGFloat = 30;
        let &lt;#icon#&gt;H:CGFloat = 30;
    self.&lt;#icon#&gt;.frame = CGRectMake(&lt;#icon#&gt;X, &lt;#icon#&gt;Y, &lt;#icon#&gt;W, &lt;#icon#&gt;H);
    
    /// 2. å§“åå¤§å°ç”±æ–‡å­—çš„é•¿åº¦æ¥å†³å®š
    // boundingRectWithSizeè®¡ç®—ç»™å®šæ–‡æœ¬å­—ç¬¦ä¸²æ‰€å çš„åŒºåŸŸ
    // è¿”å›å€¼æ˜¯ä¸€ä¸ªx,y = 0çš„CGRect,w,hæ˜¯è®¡ç®—å¥½çš„å®½é«˜
    //
    // å¦‚æœè¦è®¡ç®—å¤šè¡Œçš„å‡†ç¡®é«˜åº¦ï¼Œéœ€è¦ä¼ å…¥NSStringDrawingUsesLineFragmentOriginé€‰é¡¹
    // dictç”¨äºæŒ‡å®šå­—ä½“çš„ç›¸å…³å±æ€§çš„å­—å…¸ï¼ŒUIKitæ¡†æ¶ä¸­çš„ç¬¬ä¸€ä¸ªå¤´æ–‡ä»¶

        let nameDict:NSDictionary  = [NSFontAttributeName : kNameFont]
        ///CGSizeMake(CGFloat.max, CGFloat.max)
        let option = NSStringDrawingOptions.UsesLineFragmentOrigin
        let cgsize:CGSize = CGSizeMake(CGFloat.max, CGFloat.max)
        
        var nameFrame = status.name.boundingRectWithSize(cgsize, options: option, attributes: nameDict as? [String : AnyObject], context: nil)
            
            
        &lt;#icon#&gt;.x = CGRectGetMaxX(self.iconView.frame) + padding
        &lt;#icon#&gt;.y = padding + (self.iconView.bounds.size.height - nameFrame.size.height) * 0.5;
        
        self.&lt;#icon#&gt;.frame = nameFrame


    /// vipå›¾æ ‡
        let &lt;#icon#&gt;X = CGRectGetMaxX(self.nameView.frame) + padding;
        let &lt;#icon#&gt;Y = self.nameView.frame.origin.y;
        let &lt;#icon#&gt;W:CGFloat = 14;
        let &lt;#icon#&gt;H:CGFloat = 14;
        self.vipView.frame = CGRectMake(vipX, vipY, vipW, vipH);

    /// æ­£æ–‡
        let textDict:NSDictionary = [NSFontAttributeName: kTextFont]
        
        var textFrame:CGRect = status.text.boundingRectWithSize(CGSizeMake(365.0, CGFloat.max), options: NSStringDrawingOptions.UsesLineFragmentOrigin, attributes: textDict as? [String : AnyObject], context: nil)
        
        textFrame.origin.x = padding;
        textFrame.origin.y = CGRectGetMaxY(self.iconView.frame) + padding;
        print("âœ…âœ…\(CGFloat.max)")
        self.textView.frame = textFrame;
    
    /// é…å›¾
    ///*****âœ…ğŸ’—cellHeightæ˜¯cellçš„é«˜åº¦ä½¿ç”¨æœ€åä¸€ä¸ªè§†å›¾çš„æœ€å¤§çš„yå€¼CGRectGetMaxY(self.pictureView.frame) + padding.
        
        if status.picture != nil {
        let &lt;#icon#&gt;X = padding + 10.0;
        let &lt;#icon#&gt;Y:CGFloat = CGRectGetMaxY(textFrame) + padding ;
        let &lt;#icon#&gt;W:CGFloat = 100;
        let &lt;#icon#&gt;H:CGFloat = 100;
    self.&lt;#icon#&gt;.frame = CGRectMake(pictureX, pictureY, pictureW, pictureH);
            
            cellheight = CGRectGetMaxY(self.pictureView.frame) + padding
            print("âœ…\(cellheight)")
        }
            else {
            
             self.cellheight = CGRectGetMaxY(self.textView.frame) + padding
            
             print("âœ…\(cellheight)")
            }
        
        tableview.rowHeight = cellheight
        
        }
}


//    ///*****âœ… ä»XIBè¢«åŠ è½½ä¹‹åï¼Œä¼šè‡ªåŠ¨è¢«è°ƒç”¨ï¼Œå¦‚æœä½¿ç”¨çº¯ä»£ç ï¼Œä¸ä¼šè¢«æ‰§è¡Œ
//    override func awakeFromNib() {
//        super.awakeFromNib()
//        self.contentView.backgroundColor = UIColor.yellowColor()
//        
//    }
//    
//    ///*****âœ… Cell è¢«é€‰ä¸­æˆ–è€…å–æ¶ˆé€‰ä¸­éƒ½ä¼šè¢«è°ƒç”¨
//    //å¦‚æœæ˜¯è‡ªå®šä¹‰Cellæ§ä»¶ï¼Œæ‰€æœ‰çš„å­æ§ä»¶éƒ½åº”è¯¥æ·»åŠ åˆ°contentViewä¸­
//    override func setSelected(selected: Bool, animated: Bool) {
//        super.setSelected(selected, animated: animated)
//        
//        if (selected){
//            self.contentView.backgroundColor = UIColor.redColor()
//        }else {
//            self.contentView.backgroundColor =  UIColor.grayColor()
//        }
//    }
//}</string>
	<key>IDECodeSnippetIdentifier</key>
	<string>CB920217-3176-44AD-A59B-DC4AA5FF6CF8</string>
	<key>IDECodeSnippetLanguage</key>
	<string>Xcode.SourceCodeLanguage.Swift</string>
	<key>IDECodeSnippetSummary</key>
	<string>çº¯ä»£ç cell-é«˜åº¦è‡ªé€‚åº”å¾®åšç‰ˆ</string>
	<key>IDECodeSnippetTitle</key>
	<string>çº¯ä»£ç cell-é«˜åº¦è‡ªé€‚åº”å¾®åšç‰ˆ</string>
	<key>IDECodeSnippetUserSnippet</key>
	<true/>
	<key>IDECodeSnippetVersion</key>
	<integer>2</integer>
</dict>
</plist>
