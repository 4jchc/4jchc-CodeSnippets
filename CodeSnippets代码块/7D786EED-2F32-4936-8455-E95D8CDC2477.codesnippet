<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>IDECodeSnippetCompletionPrefix</key>
	<string>shoushijiesuo</string>
	<key>IDECodeSnippetCompletionScopes</key>
	<array>
		<string>ClassImplementation</string>
	</array>
	<key>IDECodeSnippetContents</key>
	<string>    
    var movep:CGPoint = CGPointMake(0, 0)
    
    var _btns:NSMutableArray!
    
    var btns:NSMutableArray {
        get{
            if _btns == nil {
               _btns = NSMutableArray()
            }
            return _btns
        }
    }

    ////*****ğŸ’—/ åˆå§‹åŒ–æ—¶ä½¿ç”¨åœ¨æ§åˆ¶å™¨åˆå§‹åŒ–çš„æ—¶å€™åŠ è½½æŒ‰é’®
    override init(frame: CGRect) {
        super.init(frame: frame)
        
     self.addBtns()
    }
    
   ////*****ğŸ’—/ è§£æXibçš„æ—¶å€™è°ƒç”¨--å°±æ˜¯è‡ªå®šä¹‰å›¾ç‰‡ç»‘å®šæ­¤ç±»åçš„æ—¶å€™
    required init(coder aDecoder: NSCoder) {
        super.init(coder: aDecoder)
        //åˆå§‹åŒ–æŒ‰é’®æ·»åŠ æŒ‰é’®
       self.addBtns()
       // print("++++++\(self.classForCoder)")
  
    }

   ////*****ğŸ’—/ æ·»åŠ æŒ‰é’®
    func addBtns(){
        
        for (var i:Int = 0; i &lt; 9; i++) {
            let button:UIButton = UIButton(type: UIButtonType.Custom)
            ////*****âœ…/ç»‘å®štag
            button.tag = i
            // è®¾ç½®æ™®é€šçŠ¶æ€ä¸‹çš„å›¾ç‰‡
            button.setImage(UIImage(named: "gesture_node_normal"), forState: UIControlState.Normal)
            button.setImage(UIImage(named: "gesture_node_highlighted"), forState: UIControlState.Selected)
            ////*****âœ…/ ä¸å…è®¸ç”¨æˆ·äº¤äº’è®¾ç½®æŒ‰é’®ä¸å¯ç”¨
            button.userInteractionEnabled = false;
    //        [button addTarget:self action:@selector(btnClick:) forControlEvents:UIControlEventTouchDown];
            self.addSubview(button)

    }
 }

   ////*****ğŸ’—//1.1è·å–å½“å‰è§¦æ‘¸ç‚¹è§¦æ‘¸ç‚¹
    func pointWithTouches(touches:NSSet) -&gt; CGPoint {
        // å½“å‰è§¦æ‘¸ç‚¹
        let touch:UITouch = (touches as NSSet).anyObject() as! UITouch
        
        return touch.locationInView(self)
    }

    ////*****ğŸ’—//2åˆ¤æ–­å½“å‰è¿™ä¸ªè§¦æ‘¸ç‚¹åœ¨ä¸åœ¨æŒ‰é’®çš„èŒƒå›´å†…
    func buttonWithPoint(point:CGPoint) -&gt; UIButton? {
        ///*****âœ…whä¸ºå†…åµŒè·ç¦»
        let wh:CGFloat = 20
        //print("**********\(self.subviews)")
        for btn in self.subviews {
            let x:CGFloat = btn.center.x - wh * 0.5
            let y:CGFloat = btn.center.y - wh * 0.5
            let frame:CGRect = CGRectMake(x, y, wh, wh)
             ///*****âœ…éå†æ‰€æœ‰çš„å­è§†å›¾åˆ¤æ–­ç‚¹åœ¨ä¸åœ¨ä¸Šé¢
           
        if (CGRectContainsPoint(frame, point) == true){
            // ç‚¹åœ¨æŒ‰é’®ä¸Š
        return btn as? UIButton
        }
            
    }
   return nil
        
}

    override func touchesBegan(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?) {
        ////*****âœ…/1.åˆ¤æ–­å½“å‰è¿™ä¸ªè§¦æ‘¸ç‚¹åœ¨ä¸åœ¨æŒ‰é’®çš„èŒƒå›´å†…ï¼Œå¦‚æœå­˜åœ¨æŒ‰é’®èŒƒå›´å†…ï¼Œè®¾ç½®æŒ‰é’®çš„é€‰å–çŠ¶æ€
        let pos:CGPoint = self.pointWithTouches(touches)
 
            ////*****âœ…/2åˆ¤æ–­å½“å‰è¿™ä¸ªè§¦æ‘¸ç‚¹åœ¨ä¸åœ¨æŒ‰é’®çš„èŒƒå›´å†…
            let btn:UIButton? = self.buttonWithPoint(pos)
            if (btn?.selected == false) { // æœ‰è§¦æ‘¸æŒ‰é’®çš„æ—¶å€™æ‰éœ€è¦é€‰ä¸­
            
            btn!.selected = true
                print("ğŸ’—\(btn!.selected)")
                ///*****âœ…åŠ è½½åˆ°æ•°ç»„
                btns.addObject(btn!)
        }
        
    }
    override func touchesMoved(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?) {
        ////*****âœ…/1.åˆ¤æ–­å½“å‰è¿™ä¸ªè§¦æ‘¸ç‚¹åœ¨ä¸åœ¨æŒ‰é’®çš„èŒƒå›´å†…ï¼Œå¦‚æœå­˜åœ¨æŒ‰é’®èŒƒå›´å†…ï¼Œè®¾ç½®æŒ‰é’®çš„é€‰å–çŠ¶æ€
        
        //1.1è·å–å½“å‰è§¦æ‘¸ç‚¹
        let pos:CGPoint = self.pointWithTouches(touches)
          movep = pos
        
        ////*****âœ…/1.2åˆ¤æ–­å½“å‰è¿™ä¸ªè§¦æ‘¸ç‚¹åœ¨ä¸åœ¨æŒ‰é’®çš„èŒƒå›´å†…
        // éå†æ‰€æœ‰çš„æŒ‰é’®
        let btn:UIButton? = self.buttonWithPoint(pos)

        if (btn?.selected == false) { // æœ‰è§¦æ‘¸æŒ‰é’®çš„æ—¶å€™æ‰éœ€è¦é€‰ä¸­
                btn!.selected = true;
            ///*****âœ…åŠ è½½åˆ°æ•°ç»„
            btns.addObject(btn!)
        }
        // é‡ç»˜
        self.setNeedsDisplay()
        
  }

    


    override func touchesEnded(touches: Set&lt;UITouch&gt;, withEvent event: UIEvent?) {
        ///*****âœ…è­¦å‘Šæ¡†æ²¡æœ‰å®ç°
                if self.btns.count != 0 {
    
                            var ReStr:String = ""
        
                            for index in 0...self.btns.count - 1
                            {
                                ReStr += String(self.btns[index]) + ","
                            }
        
                let alertController = UIAlertController(title: "æ‚¨çš„ç»“æœ",
                    message: ReStr, preferredStyle: UIAlertControllerStyle.Alert)
                let cancelAction = UIAlertAction(title: "å–æ¶ˆ", style: UIAlertActionStyle.Cancel, handler: nil)
                let okAction = UIAlertAction(title: "å¥½çš„", style: UIAlertActionStyle.Default,
                    handler: {
                        action in
        
                        ///*****âœ…æ–¹æ³•
                        print("ç‚¹å‡»äº†ç¡®å®š")
                })
                alertController.addAction(cancelAction)
                alertController.addAction(okAction)
         
                self.pre.presentViewController(alertController, animated: true, completion: nil)
                }
        ///*****âœ…å»é™¤æ‰€æœ‰æŒ‰é’®çš„é€‰ä¸­å±æ€§
        let str:NSMutableString = NSMutableString()
        
        for  button in self.btns{
            var but:UIButton = UIButton()
            but = button as! UIButton
            but.selected = false
            str.appendFormat("%d", but.tag)
        }
        
        
        
        
        
        ///*****âœ…å»é™¤æ‰€æœ‰æŒ‰é’®
        self.btns.removeAllObjects()
        ///*****âœ…é‡ç»˜
        self.setNeedsDisplay()
    }
    
    



///*****âœ…#pragma mark ç»˜åˆ¶æŒ‰é’®ç‚¹çš„è¿çº¿
    override func drawRect(rect: CGRect) {
    
            ////*****âœ…/åˆ›å»ºä¸€ä¸ªè·¯å¾„
            let path:UIBezierPath = UIBezierPath()
        
            /// &gt;1 ******âŒ æç¤ºæ²¡æœ‰å½“å‰å€¼çš„é”™è¯¯no current point.ä½¿ç”¨ä¸‹é¢çš„
            ////*****âœ…/æ²¡æœ‰é€‰ä¸­æŒ‰é’®ï¼Œç›´æ¥è¿”å›
            if (self.btns.count == 0){
                
                return
            }
        
            ////*****âœ…/éå†æ‰€æœ‰æœ‰é€‰ä¸­çš„æŒ‰é’®
            for (var i:Int = 0; i &lt; self.btns.count; i++) {
            
            let btn:UIButton = btns[i] as! UIButton;
            
            
            if (i == 0) {
            path.moveToPoint(btn.center)
            
            }else{
            path.addLineToPoint(btn.center)
            }
            }
        
            // æ‰€æœ‰é€‰ä¸­æŒ‰é’®ä¹‹é—´éƒ½è¿çº¿
            // è¿æ¥å¤šä½™çš„é‚£æ ¹çº¿
                ////*****âœ…/ è¿½å›ä¸€ä¸ªç‚¹çš„è·¯å¾„
            path.addLineToPoint(movep)
            
            print("00000000\(movep)")
            UIColor.greenColor().set()
            path.lineWidth = 8;
                ////*****âœ…/ è¿æ¥ç‚¹æ ·å¼
            path.lineJoinStyle = kCGLineJoinRound;
            path.lineCapStyle = kCGLineCapRound
            // æ¸²æŸ“åˆ°è§†å›¾
            path.stroke()
    
    }
    
    
    

    
     override func layoutSubviews() {
        super.layoutSubviews()
        ////*****âœ…/é‡æ–°å¸ƒå±€9ä¸ªæŒ‰é’®
        var col:CGFloat = 0;
        var row:CGFloat = 0;
    
        let btnW:CGFloat = 74;
        let btnH:CGFloat = 74;
        var btnX:CGFloat = 0;
        var btnY:CGFloat = 0;
        
        let tolCol:CGFloat = 3;
        ////*****âœ…/ æ¯ä¸€ä¸ªæŒ‰é’®çš„é—´è·
        let margin:CGFloat = (self.bounds.size.width - tolCol * btnW) / (tolCol + 1);
        
        ////*****âœ…/ ç»™æŒ‰é’®è®¾ç½®ä½ç½®
        for (var i:Int = 0; i &lt; self.subviews.count; i++) {
            
            let button:UIButton = self.subviews[i] as! UIButton
            ////*****âœ…/ å½“å‰æŒ‰é’®æ‰€å¤„çš„åˆ—
            col = CGFloat(i % 3);
            ////*****âœ…/ å½“å‰æŒ‰é’®æ‰€å¤„çš„è¡Œ
            row = CGFloat(i / 3)
            ////*****âœ…/ è®¡ç®—æ¯ä¸€ä¸ªæŒ‰é’®çš„ä½ç½®
            ////*****âœ…/ x = é—´è· + ï¼ˆæŒ‰é’®çš„å®½åº¦ + é—´è·ï¼‰ * åˆ—
            btnX = margin + (margin + btnW) * col;
             ////*****âœ…/ y = é—´è· + ï¼ˆæŒ‰é’®çš„é«˜åº¦ + é—´è·ï¼‰ * è¡Œ
            btnY = (margin + btnH) * row;
            
            button.frame = CGRectMake(btnX, btnY, btnW, btnH);
        }


 }
    
    ////*****âœ…/ åŠ è½½xibå®Œæˆçš„æ—¶å€™è°ƒç”¨
    override func awakeFromNib() {
        print("\(self.classForCoder)")
    }</string>
	<key>IDECodeSnippetIdentifier</key>
	<string>7D786EED-2F32-4936-8455-E95D8CDC2477</string>
	<key>IDECodeSnippetLanguage</key>
	<string>Xcode.SourceCodeLanguage.Swift</string>
	<key>IDECodeSnippetSummary</key>
	<string>æ‰‹åŠ¿è§£é”</string>
	<key>IDECodeSnippetTitle</key>
	<string>æ‰‹åŠ¿è§£é”</string>
	<key>IDECodeSnippetUserSnippet</key>
	<true/>
	<key>IDECodeSnippetVersion</key>
	<integer>2</integer>
</dict>
</plist>
